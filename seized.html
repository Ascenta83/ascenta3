<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Device Access Restricted</title>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0 }

    body {
      background: #0b0b0b;
      color: #e5e5e5;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .container {
      max-width: 760px;
      width: 100%;
      border: 1px solid #262626;
      background: #111;
      padding: 40px;
      box-shadow:
        0 0 0 1px rgba(255,255,255,.03),
        0 30px 60px rgba(0,0,0,.6);
    }

    .header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    .badge {
      background: #dc2626;
      color: #fff;
      font-weight: 700;
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 4px;
      letter-spacing: .6px;
    }

    .title {
      font-size: 22px;
      font-weight: 700;
    }

    .sub {
      font-size: 12px;
      color: #888;
      margin-top: 4px;
    }

    .alert {
      margin-top: 24px;
      border-left: 4px solid #dc2626;
      padding-left: 16px;
    }

    .alert h2 {
      font-size: 16px;
      margin-bottom: 8px;
      color: #fca5a5;
    }

    .alert p {
      font-size: 14px;
      line-height: 1.6;
      color: #cfcfcf;
      margin-bottom: 8px;
    }

    #countdown {
      margin-top: 12px;
      font-size: 13px;
      color: #bdbdbd;
    }

    .input-panel {
      margin-top: 22px;
      padding: 16px;
      background: #0a0a0a;
      border: 1px solid #222;
      border-radius: 8px;
    }

    .field {
      margin-bottom: 12px;
    }

    .field label {
      display: block;
      font-size: 12px;
      color: #aaa;
      margin-bottom: 6px;
    }

    .field input {
      width: 100%;
      padding: 10px;
      background: #0d0d0d;
      border: 1px solid #262626;
      border-radius: 6px;
      color: #fff;
      font-size: 14px;
    }

    .field input::placeholder {
      color: #555;
    }

    .apply-btn {
      margin-top: 6px;
      padding: 10px 14px;
      background: #1f1f1f;
      border: 1px solid #333;
      color: #eee;
      font-size: 13px;
      border-radius: 6px;
      cursor: pointer;
    }

    .apply-btn:hover {
      background: #262626;
    }

    .identity-preview {
      margin-top: 10px;
      font-size: 12px;
      color: #777;
    }

    .meta {
      margin-top: 24px;
      font-size: 12px;
      color: #888;
      background: #0a0a0a;
      padding: 14px;
      border: 1px solid #222;
      line-height: 1.6;
    }

    .footer {
      margin-top: 28px;
      font-size: 11px;
      color: #666;
      display: flex;
      justify-content: space-between;
    }
  </style>
</head>

<body>
  <div class="container">

    <div class="header">
      <div class="badge">CUSDK8</div>
      <div>
        <div class="title">SECURLY</div>
        <div class="sub">Device Security Enforcement</div>
      </div>
    </div>

    <div class="alert">
      <h2>Device Access Temporarily Restricted</h2>
      <p>
        This device has attempted to access a restricted web resource in
        violation of network safety policies enforced by your administrator.
      </p>
      <p>
        As a precautionary measure, access to external web services has been
        temporarily limited while this activity is reviewed.
      </p>

      <p id="countdown"></p>
    </div>

    <div class="input-panel">
      <div class="field">
        <label>Identified User</label>
        <input id="nameInput" type="text" placeholder="Full name" />
      </div>

      <div class="field">
        <label>Email Address</label>
        <input id="emailInput" type="email" placeholder="user@domain.com" />
      </div>

      <button class="apply-btn" id="applyIdentity">Apply Identity</button>

      <div class="identity-preview">
        Session identified as:
        <strong><span id="showName">Unassigned</span></strong>
        —
        <span id="showEmail">No email</span>
      </div>
    </div>

  <div class="meta">
  <strong>Incident Details</strong><br />
  • User: <strong><span id="metaName">Unassigned</span></strong><br />
  • Email: <span id="metaEmail">No email</span><br />
  • Policy Trigger: Unauthorized Content Gateway<br />
  • Device Fingerprint: AUTO-GENERATED<br />
  • Action Taken: Session Containment<br />
  • Timestamp: <span id="time"></span>
</div>


    <div class="footer">
      <span>Reference Code: CUSDK8-NP-A39</span>
      <span>Do not close this window</span>
    </div>

  </div>

<script>

  // ================= URL MASK =================
  if (window.location.pathname.includes("seized")) {
    window.history.replaceState(
      {},
      "",
      "/access-review/session-containment"
    );
  }

(() => {
  // ===== 1) THEME (inject CSS) =====
  const THEME = {
    // "CUSD K-8 themed" look: navy + teal accents (generic, not official branding)
    bg: "#070B14",
    panel: "#0B1224",
    border: "#1B2A4A",
    text: "#E8EEFF",
    muted: "#9AA9D1",
    accent: "#27D3B5",   // teal
    danger: "#FF4D6D",   // red/pink
    badgeText: "#061018"
  };

  const style = document.createElement("style");
  style.textContent = `
    body { background: ${THEME.bg} !important; color: ${THEME.text} !important; }
    .container { background: ${THEME.panel} !important; border-color: ${THEME.border} !important; }
    .meta { background: rgba(0,0,0,.18) !important; border-color: ${THEME.border} !important; color: ${THEME.muted} !important; }
    .footer { color: ${THEME.muted} !important; }
    .title { color: ${THEME.text} !important; }
    .badge { background: ${THEME.accent} !important; color: ${THEME.badgeText} !important; font-weight: 900 !important; letter-spacing: .8px !important; }
    .alert { border-left-color: ${THEME.danger} !important; }
    .alert h2 { color: #FFD1DA !important; }
    .alert p, #countdown { color: ${THEME.text} !important; opacity: .88; }
    #countdown { color: ${THEME.muted} !important; opacity: 1; }
    a { color: ${THEME.accent} !important; }
  `;
  document.head.appendChild(style);

  // ===== 2) HELPERS =====
  const $ = (sel) => document.querySelector(sel);

  const setText = (id, value) => {
    const el = document.getElementById(id);
    if (el) el.textContent = value;
  };

  // ===== 3) IDENTITY (URL params OR hard-coded defaults) =====
  // Use like: seized.html?name=Alex%20Johnson&email=alex@district.edu
  const params = new URLSearchParams(window.location.search);

  // Defaults (edit these two lines to hardcode)
  const DEFAULT_NAME = "Tamim Dawoud";
  const DEFAULT_EMAIL = "384119@cusdk8.org";

  const name = (params.get("name") || DEFAULT_NAME).trim();
  const email = (params.get("email") || DEFAULT_EMAIL).trim();

  // If your HTML has these spans, we fill them
setText("showName", name);
setText("showEmail", email);
setText("metaName", name);
setText("metaEmail", email);


  // If you want the identity in the Incident Details block but don't have spans,
  // this will append a line into .meta (optional, safe)
  const meta = $(".meta");
  if (meta && (!document.getElementById("showName") || !document.getElementById("showEmail"))) {
    const div = document.createElement("div");
    div.style.marginTop = "10px";
    div.innerHTML = `• User: <strong style="color:${THEME.text}">${escapeHtml(name)}</strong><br>• Email: <span style="color:${THEME.text}">${escapeHtml(email)}</span>`;
    meta.appendChild(div);
  }

  // Hide any input panel / apply button if it exists (you said no asking)
  const inputPanel = $(".input-panel");
  if (inputPanel) inputPanel.style.display = "none";

  // ===== 4) TIMESTAMP =====
  setText("time", new Date().toLocaleString());

  // ===== 5) HEADER SWAP =====
  setTimeout(() => {
    const h2 = $(".alert h2");
    if (h2) h2.textContent = "Administrative Review In Progress";
  }, 3000);

  // ===== 6) COUNTDOWN =====
  const COUNTDOWN_SECONDS = 10;
  let t = COUNTDOWN_SECONDS;
  const countdownEl = document.getElementById("countdown");
  if (countdownEl) {
    countdownEl.textContent = `Automatic review in ${t} seconds…`;
    const timer = setInterval(() => {
      t--;
      if (t >= 0) countdownEl.textContent = `Automatic review in ${t} seconds…`;
      else {
        clearInterval(timer);
        countdownEl.textContent = "Containment active. Await further instructions.";
      }
    }, 1000);
  }

  // ===== 7) ESC ESC EXIT =====
  const EXIT_URL = "/";
  let escCount = 0;
  let escReset;
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      escCount++;
      clearTimeout(escReset);
      escReset = setTimeout(() => (escCount = 0), 1200);
      if (escCount >= 2) window.location.href = EXIT_URL;
    }
  });

  // ===== 8) CONSOLE NOISE =====
  const noise = [
    "CUSD K-8: policy evaluation started",
    "Telemetry: device heartbeat OK",
    "Gateway: violation confirmed",
    "Session containment: ACTIVE"
  ];
  let i = 0;
  const noiseTimer = setInterval(() => {
    console.log(noise[i++ % noise.length]);
    if (i > 12) clearInterval(noiseTimer);
  }, 700);

  // ===== small sanitizer for meta append =====
  function escapeHtml(str) {
    return String(str).replace(/[&<>"']/g, (m) => ({
      "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;"
    }[m]));
  }
})();
</script>

</body>
</html>



